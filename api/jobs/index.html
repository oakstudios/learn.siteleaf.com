<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta name="generator" content="Siteleaf, http://siteleaf.com">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Jobs" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Overview The Jobs endpoint can be used to monitor long running tasks, such as syncing, previewing, or publishing a site. Listen to a job Cancel a job" />
<meta property="og:description" content="Overview The Jobs endpoint can be used to monitor long running tasks, such as syncing, previewing, or publishing a site. Listen to a job Cancel a job" />
<link rel="canonical" href="https://learn.siteleaf.com/api/jobs/" />
<meta property="og:url" content="https://learn.siteleaf.com/api/jobs/" />
<meta property="og:site_name" content="Learn Siteleaf" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-01-15T16:22:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Jobs" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2016-01-15T16:22:00-05:00","datePublished":"2016-01-15T16:22:00-05:00","description":"Overview The Jobs endpoint can be used to monitor long running tasks, such as syncing, previewing, or publishing a site. Listen to a job Cancel a job","headline":"Jobs","mainEntityOfPage":{"@type":"WebPage","@id":"https://learn.siteleaf.com/api/jobs/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://learn.siteleaf.com/assets/images/logo.svg"}},"url":"https://learn.siteleaf.com/api/jobs/"}</script>
<!-- End Jekyll SEO tag -->

    <title>Jobs - Learn Siteleaf</title>

    <link href="//www.siteleaf.com/styles/all.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link rel="SHORTCUT ICON" href="/assets/images/favicon.ico">
  </head>
  <body>
    <div class="wrap">
      
<div class="headerWrap bg--purple">
  <header class="header">
    <ul class="header__items">
      <li class="header__item">
        <a href="https://github.com/siteleaf/learn.siteleaf.com" class="header__link">Contribute</a>
      </li>
      <li class="header__item">
        <a href="https://community.siteleaf.com/" class="header__link">Community</a>
      </li>
      <li class="header__item">
        <a href="https://status.siteleaf.com/" class="header__link js-status">Status</a>
      </li>
      <li class="header__item">
        <a href="https://www.siteleaf.com/" class="header__link header__link--button">Siteleaf Home</a>
      </li>
      <li class="header__item header__item--mobile">
        <a id="mobileNavOpen" class="header__link">Menu</a>
      </li>
    </ul>
    <a href="/" class="header__home"><img src="/assets/images/logo.svg" class="header__logo" alt="Learn Siteleaf" /></a>
    <h1 class="header__title">API</h1>
    
    <script async src="https://cse.google.com/cse.js?cx=44e987c15485b4a25">
</script>

<div style="width: 0px; overflow: hidden; height: 0;">
  <div class="gcse-search"></div>
</div>

<form class="search">
  <input name="search" aria-label="search" class="search__input" type="search" placeholder="Search the docs">
</form>

  </header>
  <nav class="mobileNav">
    <header class="header">
      <ul class="header__items">
        <li class="header__item header__item--mobile">
          <a id="mobileNavClose" class="header__link">Close</a>
        </li>
      </ul>
      <ul class="mobileNav__items">
        <li class="mobileNav__item">
          <a href="https://github.com/siteleaf/learn.siteleaf.com" class="mobileNav__link">Contribute</a>
        </li>
        <li class="mobileNav__item">
          <a href="https://community.siteleaf.com/" class="mobileNav__link">Community</a>
        </li>
        <li class="mobileNav__item">
          <a href="https://status.siteleaf.com/" class="mobileNav__link">Status</a>
        </li>
        <li class="mobileNav__item">
          <a href="https://www.siteleaf.com/" class="mobileNav__link">Siteleaf Home</a>
        </li>
      </ul>
    </header>
  </nav>
</div>

      <main class="main">
        


<div class="articleWrap">
  
<aside class="sidebar sidebar--mobile-hidden nocontent">
  
  
    
  
    
  
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/getting-started/">Getting Started</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/content/">Managing Content</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/themes/">Developing Themes</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/sites/">Deploy & Collaborate</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item purple"><a href="/api/">API</a></h5>
        
          <ul class="nav__list">
            
            
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/libraries-and-integrations/">Libraries and integrations</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/authentication/">Authentication</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/rate-limits/">Rate limits</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/sites/">Sites</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/pages/">Pages</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/collections/">Collections</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/documents/">Documents</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/source/">Source</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/pagination/">Pagination</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/defaults/">Defaults</a></li>
              
            
              
                <li class="nav__item nav__item--current purple"><a class="nav__link nav__link--sidebar" href="/api/jobs/">Jobs</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/users/">Users</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/api/hosting-sync/">Hosting and Sync</a></li>
              
            
          </ul>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/v1/">Legacy Sites</a></h5>
        
      </nav>
    
  
</aside>

  <article class="article">
    <ol class="breadcrumbs">
      <li class="breadcrumb"><a href="/">Learn Siteleaf</a></li>
      <li class="breadcrumb"><a href="/api/">API</a></li>
    </ol>
    <section class="article__content">
      <h2>Jobs</h2>
      <h3 id="overview">Overview</h3>

<p>The Jobs endpoint can be used to monitor long running tasks, such as syncing, previewing, or <a href="/api/sites#publish-a-site">publishing a site</a>.</p>

<ol class="api__toc">
  <li><a href="#listen-to-a-job">Listen to a job</a></li>
  <li><a href="#cancel-a-job">Cancel a job</a></li>
</ol>

<h3 id="listen-to-a-job">Listen to a job</h3>

<p>This endpoint uses <a href="https://html.spec.whatwg.org/multipage/comms.html#server-sent-events">Server Sent Events</a> (SSE) to communicate with the client. Events are streamed in real time, with event data encoded as JSON. When the job completes or fails the server will close the connection.  The last event is available for 30 minutes, after which the Job ID expires.</p>

<p>Current Job IDs can be retrieved from the <a href="https://learn.siteleaf.com/api/sites/#get-a-site">Site endpoint</a>.</p>

<h4 id="endpoint">Endpoint</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET https://api.siteleaf.com/v2/jobs/:job_id
</code></pre></div></div>

<h4 id="response">Response</h4>

<div class="language-plaintext api__headers highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Status: 200 OK
Content-Type: text/event-stream
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>event:status
data:{"status":"working","message":"Working...","updated_at":"1452890740"}

event:status
data:{"status":"working","message":"Working...","updated_at":"1452890744"}

event:status
data:{"status":"complete","message":"Done!","updated_at":"1452890745"}
</code></pre></div></div>

<h4 id="response-after-job-expires">Response after job expires</h4>

<div class="language-plaintext api__headers highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Status: 410 Gone
Content-Type: text/event-stream
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>event:status
data:{"status":"error","message":"Job not found"}
</code></pre></div></div>

<h3 id="cancel-a-job">Cancel a job</h3>

<p>Active jobs can be aborted using the following request.</p>

<h4 id="endpoint-1">Endpoint</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DELETE https://api.siteleaf.com/v2/jobs/:job_id
</code></pre></div></div>

<h4 id="response-1">Response</h4>

<div class="language-plaintext api__headers highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Status: 200 OK
</code></pre></div></div>

      <p class="article__improve">
        <a href="https://github.com/siteleaf/learn.siteleaf.com/blob/master/_api/jobs.md">
          Help improve this page
        </a>
      </p>
    </section>
    <div class="article__prevNext">
      
        <a href="/api/defaults/" id="prev" class="article__prev">&larr; Defaults</a>
      
      
        <a href="/api/users/" id="next" class="article__next">Users &rarr;</a>
      
    </div>
  </article>
</div>

      </main>
    </div>
    <div class="footerWrap">
  <footer class="footer">
    <span class="footer__madeBy"><a href="https://github.com/siteleaf/learn.siteleaf.com">Made in Siteleaf</a> by <a href="http://oak.is/">Oak</a></span>
  </footer>
</div>


    <script src="//www.siteleaf.com/scripts/all.js"></script>
    <script src="/assets/js/main.js"></script>
    <script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://a.siteleaf.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '6']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
  </body>
</html>
