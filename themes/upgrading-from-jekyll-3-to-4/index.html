<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta name="generator" content="Siteleaf, http://siteleaf.com">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Upgrading from Jekyll 3.x to 4.x" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Jekyll 4.x brings upon many improvements — most notably, faster build time. You can see a full list of changes here. While GitHub Pages is still pinned to Jekyll 3.8.x, it’s possible to start using Jekyll 4 today with a little help from Siteleaf. To work around the GitHub Pages dependency, this upgrade currently requires a paid plan. Updating your theme First of all, make sure to review Jekyll’s guide on Upgrading from 3.x to 4.x to see if you need to make any changes to your theme. If you are using post_url, you no longer need to prepend site.baseurl: - {{ site.baseurl }}/{% post_url 2018-03-20-hello-world.markdown %} + {% post_url 2018-03-20-hello-world.markdown %} Updating your Gemfile To start using Jekyll 4, you’ll need to update (or create) your Gemfile replacing references to github-pages like this: source &#39;https://rubygems.org&#39; gem &#39;github-pages&#39;, group: :jekyll_plugins With jekyll itself: source &#39;https://rubygems.org&#39; gem &#39;jekyll&#39;, &#39;~&gt;4&#39; If you are using any of the plugins that come included with github-pages (like the popular SEO or Sitemap plugin), you’ll need to reference those as well: source &#39;https://rubygems.org&#39; gem &#39;jekyll&#39;, &#39;~&gt;4&#39; group :jekyll_plugins do gem &#39;jekyll-redirect-from&#39; gem &#39;jekyll-sitemap&#39; gem &#39;jekyll-feed&#39; gem &#39;jekyll-paginate&#39; gem &#39;jekyll-seo-tag&#39; end Here’s a full list of plugins that GitHub Pages comes with: https://pages.github.com/versions After making these changes make sure to run the following commands to ensure your site is working as expected: $ bundle update $ bundle exec jekyll serve Updating your config Jekyll excludes Gemfile by default, so to ensure Siteleaf picks up these changes, we recommend updating your _config.yml to something like this: exclude: [&quot;Gemfile.lock&quot;, &quot;node_modules&quot;] You can exclude additional files as needed, just ensure Gemfile is not being excluded. Updating your Hosting settings If using GitHub Pages for hosting, you’ll also need to update your Siteleaf Hosting settings to use the Compiled by Siteleaf option. This option is available on all paid plans, and will ensure your site is built by Siteleaf instead of GitHub Pages. When compiling with Siteleaf on our Team and higher plans, you can also use custom plugins or gems not supported by GitHub Pages. No changes are required if using other hosting options like S3 or SFTP." />
<meta property="og:description" content="Jekyll 4.x brings upon many improvements — most notably, faster build time. You can see a full list of changes here. While GitHub Pages is still pinned to Jekyll 3.8.x, it’s possible to start using Jekyll 4 today with a little help from Siteleaf. To work around the GitHub Pages dependency, this upgrade currently requires a paid plan. Updating your theme First of all, make sure to review Jekyll’s guide on Upgrading from 3.x to 4.x to see if you need to make any changes to your theme. If you are using post_url, you no longer need to prepend site.baseurl: - {{ site.baseurl }}/{% post_url 2018-03-20-hello-world.markdown %} + {% post_url 2018-03-20-hello-world.markdown %} Updating your Gemfile To start using Jekyll 4, you’ll need to update (or create) your Gemfile replacing references to github-pages like this: source &#39;https://rubygems.org&#39; gem &#39;github-pages&#39;, group: :jekyll_plugins With jekyll itself: source &#39;https://rubygems.org&#39; gem &#39;jekyll&#39;, &#39;~&gt;4&#39; If you are using any of the plugins that come included with github-pages (like the popular SEO or Sitemap plugin), you’ll need to reference those as well: source &#39;https://rubygems.org&#39; gem &#39;jekyll&#39;, &#39;~&gt;4&#39; group :jekyll_plugins do gem &#39;jekyll-redirect-from&#39; gem &#39;jekyll-sitemap&#39; gem &#39;jekyll-feed&#39; gem &#39;jekyll-paginate&#39; gem &#39;jekyll-seo-tag&#39; end Here’s a full list of plugins that GitHub Pages comes with: https://pages.github.com/versions After making these changes make sure to run the following commands to ensure your site is working as expected: $ bundle update $ bundle exec jekyll serve Updating your config Jekyll excludes Gemfile by default, so to ensure Siteleaf picks up these changes, we recommend updating your _config.yml to something like this: exclude: [&quot;Gemfile.lock&quot;, &quot;node_modules&quot;] You can exclude additional files as needed, just ensure Gemfile is not being excluded. Updating your Hosting settings If using GitHub Pages for hosting, you’ll also need to update your Siteleaf Hosting settings to use the Compiled by Siteleaf option. This option is available on all paid plans, and will ensure your site is built by Siteleaf instead of GitHub Pages. When compiling with Siteleaf on our Team and higher plans, you can also use custom plugins or gems not supported by GitHub Pages. No changes are required if using other hosting options like S3 or SFTP." />
<link rel="canonical" href="https://learn.siteleaf.com/themes/upgrading-from-jekyll-3-to-4/" />
<meta property="og:url" content="https://learn.siteleaf.com/themes/upgrading-from-jekyll-3-to-4/" />
<meta property="og:site_name" content="Learn Siteleaf" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-15T11:24:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Upgrading from Jekyll 3.x to 4.x" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-04-15T11:24:00-04:00","datePublished":"2020-04-15T11:24:00-04:00","description":"Jekyll 4.x brings upon many improvements — most notably, faster build time. You can see a full list of changes here. While GitHub Pages is still pinned to Jekyll 3.8.x, it’s possible to start using Jekyll 4 today with a little help from Siteleaf. To work around the GitHub Pages dependency, this upgrade currently requires a paid plan. Updating your theme First of all, make sure to review Jekyll’s guide on Upgrading from 3.x to 4.x to see if you need to make any changes to your theme. If you are using post_url, you no longer need to prepend site.baseurl: - {{ site.baseurl }}/{% post_url 2018-03-20-hello-world.markdown %} + {% post_url 2018-03-20-hello-world.markdown %} Updating your Gemfile To start using Jekyll 4, you’ll need to update (or create) your Gemfile replacing references to github-pages like this: source &#39;https://rubygems.org&#39; gem &#39;github-pages&#39;, group: :jekyll_plugins With jekyll itself: source &#39;https://rubygems.org&#39; gem &#39;jekyll&#39;, &#39;~&gt;4&#39; If you are using any of the plugins that come included with github-pages (like the popular SEO or Sitemap plugin), you’ll need to reference those as well: source &#39;https://rubygems.org&#39; gem &#39;jekyll&#39;, &#39;~&gt;4&#39; group :jekyll_plugins do gem &#39;jekyll-redirect-from&#39; gem &#39;jekyll-sitemap&#39; gem &#39;jekyll-feed&#39; gem &#39;jekyll-paginate&#39; gem &#39;jekyll-seo-tag&#39; end Here’s a full list of plugins that GitHub Pages comes with: https://pages.github.com/versions After making these changes make sure to run the following commands to ensure your site is working as expected: $ bundle update $ bundle exec jekyll serve Updating your config Jekyll excludes Gemfile by default, so to ensure Siteleaf picks up these changes, we recommend updating your _config.yml to something like this: exclude: [&quot;Gemfile.lock&quot;, &quot;node_modules&quot;] You can exclude additional files as needed, just ensure Gemfile is not being excluded. Updating your Hosting settings If using GitHub Pages for hosting, you’ll also need to update your Siteleaf Hosting settings to use the Compiled by Siteleaf option. This option is available on all paid plans, and will ensure your site is built by Siteleaf instead of GitHub Pages. When compiling with Siteleaf on our Team and higher plans, you can also use custom plugins or gems not supported by GitHub Pages. No changes are required if using other hosting options like S3 or SFTP.","headline":"Upgrading from Jekyll 3.x to 4.x","mainEntityOfPage":{"@type":"WebPage","@id":"https://learn.siteleaf.com/themes/upgrading-from-jekyll-3-to-4/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://learn.siteleaf.com/assets/images/logo.svg"}},"url":"https://learn.siteleaf.com/themes/upgrading-from-jekyll-3-to-4/"}</script>
<!-- End Jekyll SEO tag -->

    <title>Upgrading from Jekyll 3.x to 4.x - Learn Siteleaf</title>

    <link href="//www.siteleaf.com/styles/all.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link rel="SHORTCUT ICON" href="/assets/images/favicon.ico">
  </head>
  <body>
    <div class="wrap">
      
<div class="headerWrap bg--yellow">
  <header class="header">
    <ul class="header__items">
      <li class="header__item">
        <a href="https://github.com/siteleaf/learn.siteleaf.com" class="header__link">Contribute</a>
      </li>
      <li class="header__item">
        <a href="https://community.siteleaf.com/" class="header__link">Community</a>
      </li>
      <li class="header__item">
        <a href="https://status.siteleaf.com/" class="header__link js-status">Status</a>
      </li>
      <li class="header__item">
        <a href="https://www.siteleaf.com/" class="header__link header__link--button">Siteleaf Home</a>
      </li>
      <li class="header__item header__item--mobile">
        <a id="mobileNavOpen" class="header__link">Menu</a>
      </li>
    </ul>
    <a href="/" class="header__home"><img src="/assets/images/logo.svg" class="header__logo" alt="Learn Siteleaf" /></a>
    <h1 class="header__title">Developing Themes</h1>
    
    <script async src="https://cse.google.com/cse.js?cx=44e987c15485b4a25">
</script>

<div style="width: 0px; overflow: hidden; height: 0;">
  <div class="gcse-search"></div>
</div>

<form class="search">
  <input name="search" aria-label="search" class="search__input" type="search" placeholder="Search the docs">
</form>

  </header>
  <nav class="mobileNav">
    <header class="header">
      <ul class="header__items">
        <li class="header__item header__item--mobile">
          <a id="mobileNavClose" class="header__link">Close</a>
        </li>
      </ul>
      <ul class="mobileNav__items">
        <li class="mobileNav__item">
          <a href="https://github.com/siteleaf/learn.siteleaf.com" class="mobileNav__link">Contribute</a>
        </li>
        <li class="mobileNav__item">
          <a href="https://community.siteleaf.com/" class="mobileNav__link">Community</a>
        </li>
        <li class="mobileNav__item">
          <a href="https://status.siteleaf.com/" class="mobileNav__link">Status</a>
        </li>
        <li class="mobileNav__item">
          <a href="https://www.siteleaf.com/" class="mobileNav__link">Siteleaf Home</a>
        </li>
      </ul>
    </header>
  </nav>
</div>

      <main class="main">
        


<div class="articleWrap">
  
<aside class="sidebar sidebar--mobile-hidden nocontent">
  
  
    
  
    
  
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/getting-started/">Getting Started</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/content/">Managing Content</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item yellow"><a href="/themes/">Developing Themes</a></h5>
        
          <ul class="nav__list">
            
            
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/intro/">Intro to themes</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/liquid/">Liquid</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/structure/">Theme structure</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/local-development/">Local development</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/environments/">Environments</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/sass/">Sass and SCSS</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/sitemaps-and-feeds/">Sitemaps and Feeds</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/optimizing-build-time/">Optimizing build time</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/jekyll-plugins/">Jekyll Plugins</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/gem-based-themes/">Gem-based Themes</a></li>
              
            
              
                <li class="nav__item nav__item--current yellow"><a class="nav__link nav__link--sidebar" href="/themes/upgrading-from-jekyll-3-to-4/">Upgrading from Jekyll 3.x to 4.x</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/github-sync/">GitHub Sync</a></li>
              
            
              
                <li class="nav__item"><a class="nav__link nav__link--sidebar" href="/themes/cli/">Siteleaf CLI</a></li>
              
            
          </ul>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/sites/">Deploy & Collaborate</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/api/">API</a></h5>
        
      </nav>
    
  
    
      <nav class="nav">
        <h5 class="nav__item"><a href="/v1/">Legacy Sites</a></h5>
        
      </nav>
    
  
</aside>

  <article class="article">
    <ol class="breadcrumbs">
      <li class="breadcrumb"><a href="/">Learn Siteleaf</a></li>
      <li class="breadcrumb"><a href="/themes/">Developing Themes</a></li>
    </ol>
    <section class="article__content">
      <h2>Upgrading from Jekyll 3.x to 4.x</h2>
      <p>Jekyll 4.x brings upon many improvements — most notably, faster build time. You can see a <a href="https://jekyllrb.com/news/2019/08/20/jekyll-4-0-0-released/">full list of changes here</a>.</p>

<p>While GitHub Pages is still pinned to <a href="https://pages.github.com/versions/">Jekyll 3.8.x</a>, it’s possible to start using Jekyll 4 today with a little help from Siteleaf.</p>

<p class="note">To work around the GitHub Pages dependency, this upgrade currently requires a <a href="https://www.siteleaf.com/plans">paid plan</a>.</p>

<h3 id="updating-your-theme">Updating your theme</h3>

<p>First of all, make sure to review Jekyll’s guide on <a href="https://jekyllrb.com/docs/upgrading/3-to-4/">Upgrading from 3.x to 4.x</a> to see if you need to make any changes to your theme.</p>

<p>If you are using <code class="language-plaintext highlighter-rouge">post_url</code>, you no longer need to prepend <code class="language-plaintext highlighter-rouge">site.baseurl</code>:</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- {{ site.baseurl }}/{% post_url 2018-03-20-hello-world.markdown %}
</span><span class="gi">+ {% post_url 2018-03-20-hello-world.markdown %}
</span></code></pre></div></div>

<h3 id="updating-your-gemfile">Updating your Gemfile</h3>

<p>To start using Jekyll 4, you’ll need to update (or create) your <code class="language-plaintext highlighter-rouge">Gemfile</code> replacing references to <code class="language-plaintext highlighter-rouge">github-pages</code> like this:</p>

<div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">source</span> <span class="s1">'https://rubygems.org'</span>

<span class="n">gem</span> <span class="s1">'github-pages'</span><span class="p">,</span> <span class="ss">group: :jekyll_plugins</span>
</code></pre></div></div>

<p>With <code class="language-plaintext highlighter-rouge">jekyll</code> itself:</p>

<div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">source</span> <span class="s1">'https://rubygems.org'</span>

<span class="n">gem</span> <span class="s1">'jekyll'</span><span class="p">,</span> <span class="s1">'~&gt;4'</span>
</code></pre></div></div>

<p>If you are using any of the plugins that come included with <code class="language-plaintext highlighter-rouge">github-pages</code> (like the popular <a href="https://github.com/jekyll/jekyll-seo-tag">SEO</a> or <a href="https://github.com/jekyll/jekyll-sitemap">Sitemap</a> plugin), you’ll need to reference those as well:</p>

<div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">source</span> <span class="s1">'https://rubygems.org'</span>

<span class="n">gem</span> <span class="s1">'jekyll'</span><span class="p">,</span> <span class="s1">'~&gt;4'</span>

<span class="n">group</span> <span class="ss">:jekyll_plugins</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">'jekyll-redirect-from'</span>
  <span class="n">gem</span> <span class="s1">'jekyll-sitemap'</span>
  <span class="n">gem</span> <span class="s1">'jekyll-feed'</span>
  <span class="n">gem</span> <span class="s1">'jekyll-paginate'</span>
  <span class="n">gem</span> <span class="s1">'jekyll-seo-tag'</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Here’s a full list of plugins that GitHub Pages comes with: <a href="https://pages.github.com/versions">https://pages.github.com/versions</a></p>

<p>After making these changes make sure to run the following commands to ensure your site is working as expected:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle update
<span class="nv">$ </span>bundle <span class="nb">exec </span>jekyll serve
</code></pre></div></div>

<h3 id="updating-your-config">Updating your config</h3>

<p>Jekyll excludes <code class="language-plaintext highlighter-rouge">Gemfile</code> <a href="https://jekyllrb.com/docs/configuration/default/">by default</a>, so to ensure Siteleaf picks up these changes, we recommend updating your <code class="language-plaintext highlighter-rouge">_config.yml</code> to something like this:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Gemfile.lock"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">node_modules"</span><span class="pi">]</span>
</code></pre></div></div>

<p>You can exclude additional files as needed, just ensure <code class="language-plaintext highlighter-rouge">Gemfile</code> is not being excluded.</p>

<h3 id="updating-your-hosting-settings">Updating your Hosting settings</h3>

<p>If using GitHub Pages for hosting, you’ll also need to update your Siteleaf <a href="/sites/hosting/">Hosting settings</a> to use the <code class="language-plaintext highlighter-rouge">Compiled by Siteleaf</code> option. This option is available on all paid plans, and will ensure your site is built by Siteleaf instead of GitHub Pages. When compiling with Siteleaf on our Team and higher plans, you can also use <a href="/themes/jekyll-plugins/">custom plugins</a> or gems not supported by GitHub Pages.</p>

<p>No changes are required if using other hosting options like S3 or SFTP.</p>

      <p class="article__improve">
        <a href="https://github.com/siteleaf/learn.siteleaf.com/blob/master/_themes/upgrading-from-jekyll-3-to-4.markdown">
          Help improve this page
        </a>
      </p>
    </section>
    <div class="article__prevNext">
      
        <a href="/themes/gem-based-themes/" id="prev" class="article__prev">&larr; Gem-based Themes</a>
      
      
        <a href="/themes/github-sync/" id="next" class="article__next">GitHub Sync &rarr;</a>
      
    </div>
  </article>
</div>

      </main>
    </div>
    <div class="footerWrap">
  <footer class="footer">
    <span class="footer__madeBy"><a href="https://github.com/siteleaf/learn.siteleaf.com">Made in Siteleaf</a> by <a href="http://oak.is/">Oak</a></span>
  </footer>
</div>


    <script src="//www.siteleaf.com/scripts/all.js"></script>
    <script src="/assets/js/main.js"></script>
    <script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://a.siteleaf.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '6']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
  </body>
</html>
